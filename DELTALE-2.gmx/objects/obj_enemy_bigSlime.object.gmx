<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_enemy_bigSlime</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>obj_lifeformGlowing_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Initialize the slime
event_inherited();
hp = 8;
maxhp = hp;
image_speed = 1;
spd = .35;
slimeState = scr_slime_idle_state;
alarm[0] = room_speed*irandom_range(2,5);
showHealth = false;
sight = 256;
targetx = 0;
targety = 0;
knockback = 500;
s_emit = audio_emitter_create();
attack = attackPoints.bigSlime;
sprattack = false;
attack = 3;

pos_uni = shader_get_uniform(sh_hue, "Position"); // control shader

pos = random_range(0,1);
// 0 - min, 1 - max
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Drop EXP
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
//^^ this was 10 EXP points
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
instance_create(irandom_range(x-32,x+32),irandom_range(y-32,y+32),obj_EXP);
// another 10^^

// Drop a health pack
if (scr_chance(0.4)) {
    instance_create(x+random_range(-4,4),y+random_range(-4,4),obj_silverWing);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Reset Healthbar
showHealth = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Get rid of Audio Emitter
audio_emitter_free(s_emit);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Stall alarm
sprattack = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Wander alarm;
sprattack = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move towards player
event_inherited();
script_execute(slimeState);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_player">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Damage the player
if (alarm[4] &lt;= 0) {
    if (slimeState != scr_slime_stall_state and global.isDashing = false)
    {
        var dir = point_direction(other.x,other.y,x,y)
        var xdir = lengthdir_x(1,dir)
        var ydir = lengthdir_y(1,dir)
        var damage = instance_create(other.x+xdir,other.y+ydir,obj_damageEnemy);
        damage.damage = attack;
        damage.creator = id;
        damage.knockback = 25;
        slimeState = scr_slime_stall_state;
        alarm[1] = room_speed;
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (sprattack = false) {
    sprite_index = spr_enemy_bigSlimeAttack;
    image_index = 0;
    image_speed = 1;
    sprattack = true;
    with (obj_player) {
        if (sprattack = false) {
        sprattack = true;
        alarm[4] = room_speed/6;
        }
    }    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_damage">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>spr_enemy_bigSlimeHurt</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-1</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Play slime hit sound / Set alarm
var sound = choose(snd_slimeHit,snd_slimeHit2);
if audio_emitter_exists(s_emit)
   {
   audio_emitter_gain(s_emit, 0.5);
   audio_emitter_pitch(sound,irandom_range(0.90,1.05))
   audio_play_sound_on(s_emit, sound, false, 0);
   alarm[2] = room_speed*2;
   }
else
   {
   s_emit = audio_emitter_create();
   audio_emitter_gain(s_emit, 0.5);
   audio_emitter_pitch(sound,irandom_range(0.90,1.05))
   audio_play_sound_on(s_emit,sound,false,0);
   }
   
showHealth = true;
alarm[3] = room_speed*5;
alarm[4] = room_speed;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>541</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_sprite_set</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>5</kind>
            <sprite>spr_enemy_bigSlime</sprite>
          </argument>
          <argument>
            <kind>0</kind>
            <string>-1</string>
          </argument>
          <argument>
            <kind>0</kind>
            <string>1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (showHealth == true) {
    draw_healthbar(bbox_left-16,bbox_top-24,bbox_right+16,bbox_top-16,(hp/maxhp)*100,c_black,c_red,c_red,0,true,true);
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>shader_set(sh_hue);
shader_set_uniform_f(pos_uni, pos);
draw_self();
shader_reset();
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>-1</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>1</PhysicsObjectShape>
  <PhysicsObjectDensity>0.100000001490116</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>5</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>1</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>0,72</point>
    <point>104,72</point>
    <point>104,144</point>
    <point>0,144</point>
  </PhysicsShapePoints>
</object>
